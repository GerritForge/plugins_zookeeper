{
  "comments": [
    {
      "key": {
        "uuid": "31a4a933_7257579d",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/validation/dfsrefdb/zookeeper/StringToGenericConverter.java",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2020-02-06T16:12:24Z",
      "side": 1,
      "message": "Is that useful? Maybe StringToGenericConverter can be an interface",
      "range": {
        "startLine": 7,
        "startChar": 1,
        "endLine": 9,
        "endChar": 3
      },
      "revId": "f19e214714abdc9c2013695911caf58c30ffa837",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "20501b69_b748c28d",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/validation/dfsrefdb/zookeeper/StringToGenericConverter.java",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1012541
      },
      "writtenOn": "2020-02-07T17:49:21Z",
      "side": 1,
      "message": "Nope it isn\u0027t :/ I have been switching between interface and abstract class... and didn\u0027t realise that the last iteration wasn\u0027t needed.",
      "parentUuid": "31a4a933_7257579d",
      "range": {
        "startLine": 7,
        "startChar": 1,
        "endLine": 9,
        "endChar": 3
      },
      "revId": "f19e214714abdc9c2013695911caf58c30ffa837",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a3c413a5_3d8f487b",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/validation/dfsrefdb/zookeeper/ZkSharedRefDatabase.java",
        "patchSetId": 3
      },
      "lineNbr": 176,
      "author": {
        "id": 1012541
      },
      "writtenOn": "2020-02-06T15:23:21Z",
      "side": 1,
      "message": "I didn\u0027t manage to implement exactly this interface. At line #177 you can see the modified interface I have implemented for the getter. I am passing an extra parameter which is the Class of the generic. You can see the method usage in the tests: https://review.gerrithub.io/c/GerritForge/plugins_zookeeper/+/483581/3/src/test/java/com/googlesource/gerrit/plugins/validation/dfsrefdb/zookeeper/ZkSharedRefDatabaseTest.java#193\n\nIf you follow the code you will see that the Class type is needed so the \"converter\" factory can instantiate the correct object to cast from String to a Generic object T.\n\nThe only way I have found to get the class type from a generic was some reflection magic tricks, which I haven\u0027t tried yet and I wanted to avoid if possible.\n\nEven if I still need to iron a bit the code, you can get an idea of the direction I am heading to. I wanted to get some early feedbacks from you about:\n- does the general implementation make sense ?\n- is it \"ok\" to pass the class as parameter?\n- can you think of any easy way to get the class type of a generic?",
      "range": {
        "startLine": 173,
        "startChar": 1,
        "endLine": 176,
        "endChar": 0
      },
      "revId": "f19e214714abdc9c2013695911caf58c30ffa837",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c04f5762_d7ddcc3b",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/validation/dfsrefdb/zookeeper/ZkSharedRefDatabase.java",
        "patchSetId": 3
      },
      "lineNbr": 176,
      "author": {
        "id": 1012541
      },
      "writtenOn": "2020-02-07T17:49:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a3c413a5_3d8f487b",
      "range": {
        "startLine": 173,
        "startChar": 1,
        "endLine": 176,
        "endChar": 0
      },
      "revId": "f19e214714abdc9c2013695911caf58c30ffa837",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c15932e7_5fb972a8",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/validation/dfsrefdb/zookeeper/ZkValidationModule.java",
        "patchSetId": 3
      },
      "lineNbr": 47,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2020-02-06T16:12:24Z",
      "side": 1,
      "message": "To bin to DynamicSet first you have to set it up with DynamicSet.itemOf",
      "range": {
        "startLine": 47,
        "startChar": 4,
        "endLine": 47,
        "endChar": 14
      },
      "revId": "f19e214714abdc9c2013695911caf58c30ffa837",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "20e5a1eb_aaff87f5",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/validation/dfsrefdb/zookeeper/ZkValidationModule.java",
        "patchSetId": 3
      },
      "lineNbr": 47,
      "author": {
        "id": 1012541
      },
      "writtenOn": "2020-02-07T17:49:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c15932e7_5fb972a8",
      "range": {
        "startLine": 47,
        "startChar": 4,
        "endLine": 47,
        "endChar": 14
      },
      "revId": "f19e214714abdc9c2013695911caf58c30ffa837",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}